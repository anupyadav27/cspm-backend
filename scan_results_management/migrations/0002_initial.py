# Generated by Django 5.2.10 on 2026-01-16 19:07

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('assets_management', '0002_initial'),
        ('onboarding_management', '0001_initial'),
        ('scan_results_management', '0001_initial'),
        ('tenant_management', '0001_initial'),
    ]

    operations = [
        migrations.AddField(
            model_name='compliancesummary',
            name='tenant',
            field=models.ForeignKey(db_column='tenant_id', on_delete=django.db.models.deletion.CASCADE, related_name='compliance_summaries', to='tenant_management.tenants'),
        ),
        migrations.AddField(
            model_name='scanfindingasset',
            name='asset',
            field=models.ForeignKey(db_column='asset_id', on_delete=django.db.models.deletion.CASCADE, related_name='finding_links', to='assets_management.asset'),
        ),
        migrations.AddField(
            model_name='scanfindingasset',
            name='finding',
            field=models.ForeignKey(db_column='finding_id', on_delete=django.db.models.deletion.CASCADE, related_name='asset_links', to='scan_results_management.scanfinding'),
        ),
        migrations.AddField(
            model_name='scanresult',
            name='account',
            field=models.ForeignKey(db_column='account_id', on_delete=django.db.models.deletion.CASCADE, related_name='scan_results', to='onboarding_management.onboardingaccount'),
        ),
        migrations.AddField(
            model_name='scanresult',
            name='execution',
            field=models.ForeignKey(blank=True, db_column='execution_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='scan_results', to='onboarding_management.onboardingexecution'),
        ),
        migrations.AddField(
            model_name='scanresult',
            name='tenant',
            field=models.ForeignKey(db_column='tenant_id', on_delete=django.db.models.deletion.CASCADE, related_name='scan_results', to='tenant_management.tenants'),
        ),
        migrations.AddField(
            model_name='scanfinding',
            name='scan_result',
            field=models.ForeignKey(db_column='scan_result_id', on_delete=django.db.models.deletion.CASCADE, related_name='findings', to='scan_results_management.scanresult'),
        ),
        migrations.AddField(
            model_name='compliancesummary',
            name='scan_result',
            field=models.ForeignKey(db_column='scan_result_id', on_delete=django.db.models.deletion.CASCADE, related_name='compliance_summaries', to='scan_results_management.scanresult'),
        ),
        migrations.AddIndex(
            model_name='scanfindingasset',
            index=models.Index(fields=['finding'], name='scan_findin_finding_636c30_idx'),
        ),
        migrations.AddIndex(
            model_name='scanfindingasset',
            index=models.Index(fields=['asset'], name='scan_findin_asset_i_9c5ff2_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='scanfindingasset',
            unique_together={('finding', 'asset')},
        ),
        migrations.AddIndex(
            model_name='scanresult',
            index=models.Index(fields=['account'], name='scan_result_account_a1d4df_idx'),
        ),
        migrations.AddIndex(
            model_name='scanresult',
            index=models.Index(fields=['tenant'], name='scan_result_tenant__2c5242_idx'),
        ),
        migrations.AddIndex(
            model_name='scanresult',
            index=models.Index(fields=['execution'], name='scan_result_executi_a2fdfc_idx'),
        ),
        migrations.AddIndex(
            model_name='scanresult',
            index=models.Index(fields=['status'], name='scan_result_status_0e9a07_idx'),
        ),
        migrations.AddIndex(
            model_name='scanresult',
            index=models.Index(fields=['started_at'], name='scan_result_started_0bbe39_idx'),
        ),
        migrations.AddIndex(
            model_name='scanresult',
            index=models.Index(fields=['provider'], name='scan_result_provide_f71cb4_idx'),
        ),
        migrations.AddIndex(
            model_name='scanresult',
            index=models.Index(fields=['scan_id'], name='scan_result_scan_id_7fa478_idx'),
        ),
        migrations.AddIndex(
            model_name='scanfinding',
            index=models.Index(fields=['scan_result'], name='scan_findin_scan_re_f86be2_idx'),
        ),
        migrations.AddIndex(
            model_name='scanfinding',
            index=models.Index(fields=['status'], name='scan_findin_status_494ab6_idx'),
        ),
        migrations.AddIndex(
            model_name='scanfinding',
            index=models.Index(fields=['severity'], name='scan_findin_severit_de5dae_idx'),
        ),
        migrations.AddIndex(
            model_name='scanfinding',
            index=models.Index(fields=['service'], name='scan_findin_service_5b55f7_idx'),
        ),
        migrations.AddIndex(
            model_name='scanfinding',
            index=models.Index(fields=['check_id'], name='scan_findin_check_i_cd7569_idx'),
        ),
        migrations.AddIndex(
            model_name='scanfinding',
            index=models.Index(fields=['resource_id'], name='scan_findin_resourc_52393b_idx'),
        ),
        migrations.AddIndex(
            model_name='compliancesummary',
            index=models.Index(fields=['tenant'], name='compliance__tenant__a23176_idx'),
        ),
        migrations.AddIndex(
            model_name='compliancesummary',
            index=models.Index(fields=['account'], name='compliance__account_6d3896_idx'),
        ),
        migrations.AddIndex(
            model_name='compliancesummary',
            index=models.Index(fields=['framework'], name='compliance__framewo_802614_idx'),
        ),
        migrations.AddIndex(
            model_name='compliancesummary',
            index=models.Index(fields=['scan_result'], name='compliance__scan_re_d231f5_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='compliancesummary',
            unique_together={('scan_result', 'framework')},
        ),
    ]
